@{
    ViewBag.Title = "Fresh Face Home";
    Layout = "~/Views/Shared/_GridLayout.cshtml";
}

<!-- Start Row -->

<div class="row">

    <div class="three columns sidebar">

        <!-- Calendar -->

        <section class="row">
            <h4>My Events</h4>
            <div class="calendar"></div>
        </section>

        <!-- End Calendar -->
        


        <!-- FB Controls -->

        <section class="row">
            <h4>My Actions</h4>
            <div class="actions">
                <div class="row"><a class="btn">Add Friend</a></div>
                <div class="row"><a class="btn">Upload Photo</a></div>
                <div class="row"><a class="btn logout">Logout</a></div>
            </div>
        </section>

        <!-- End FB Controls -->

    </div>

<!-- News Feed -->

    <section class="seven columns">
        <h2>My News</h2>
        <article>
            <h3>News Article - by <span class="ff ff-name">--</span></h3>
            <div>This is my content!  I hope you like it.</div>
        </article>
    </section>

    <!-- End News Feed -->

    <!-- Stock Ticker -->

    <section class="two columns sidebar side-right">
        <h4>My Stocks</h4>
        <article>
            <div>NASDAQ:GOOG</div>
        </article>
    </section>

    <!-- End Stock Ticker -->

</div>

<!-- End Row -->

<div id="fb-root"></div>
<script>
    window.fbAsyncInit = function () {
        FB.init({
            appId      : "@ViewBag.AppID",
            status     : true, 
            cookie     : true,
            xfbml      : true,
            oauth      : true,
        });
        $(".logout").click(function (event) {
            FB.logout(function (response) {
                FreshFace.logOff();
            });
        });
        FB.getLoginStatus(function (logResp) {
            if (logResp.status === 'connected') {
                // Do stuff that we need to be logged in to do
                //Debug.alert("Logged in!  Can do stuff now.");

                FB.api('/me', function (apiResp) {
                    var uName = apiResp.name;
                    Debug.log(uName);
                    $(".ff-name").html(uName);
                });
            } else {
                //Debug.alert("Logging out, FB has decided we're done.");
                FreshFace.logOff();
            }
        });
    };
    (function(d){
        var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}
        js = d.createElement('script'); js.id = id; js.async = true;
        js.src = "//connect.facebook.net/en_US/all.js";
        d.getElementsByTagName('head')[0].appendChild(js);
    }(document));
</script>